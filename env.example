# =============================================================================
# ChainGuard AI - Environment Configuration
# =============================================================================

# Application Settings
APP_NAME=ChainGuard AI
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=true

# Security
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=30
ENCRYPTION_KEY=your-encryption-key-32-bytes-long

# CORS Settings
ALLOWED_ORIGINS=["http://localhost:3000", "https://chainguard.ai"]
ALLOWED_CREDENTIALS=true
ALLOWED_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
ALLOWED_HEADERS=["*"]

# Database Configuration
DATABASE_URL=postgresql://chainguard:password@localhost:5432/chainguard_ai
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# AI/ML Services
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key
LANGCHAIN_TRACING_V2=true
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=your-langsmith-api-key
LANGCHAIN_PROJECT=chainguard-ai

# Vector Database
VECTOR_DB_URL=postgresql://chainguard:password@localhost:5432/chainguard_vectors
VECTOR_DIMENSION=1536
VECTOR_SIMILARITY_METRIC=cosine

# Web3 Configuration
ETHEREUM_RPC_URL=https://eth-mainnet.alchemyapi.io/v2/your-api-key
POLYGON_RPC_URL=https://polygon-mainnet.alchemyapi.io/v2/your-api-key
BSC_RPC_URL=https://bsc-dataseed.binance.org/
ETHERSCAN_API_KEY=your-etherscan-api-key
POLYGONSCAN_API_KEY=your-polygonscan-api-key
BSCSCAN_API_KEY=your-bscscan-api-key

# Security Tools Configuration
SLITHER_TIMEOUT=300
MYTHRIL_TIMEOUT=600
ECHIDNA_TIMEOUT=1800
FOUNDRY_TIMEOUT=900
HARDHAT_TIMEOUT=900

# File Storage
STORAGE_TYPE=s3
S3_ACCESS_KEY_ID=your-s3-access-key
S3_SECRET_ACCESS_KEY=your-s3-secret-key
S3_BUCKET_NAME=chainguard-ai-artifacts
S3_REGION=us-east-1
S3_ENDPOINT_URL=

# Local Storage (alternative to S3)
LOCAL_STORAGE_PATH=./storage
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=["sol", "json", "md", "txt", "pdf", "zip"]

# Monitoring & Logging
SENTRY_DSN=your-sentry-dsn
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
STRUCTURED_LOGGING=true
LOG_FORMAT=json

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_BURST=10

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff

# Analysis Configuration
ANALYSIS_TIMEOUT_MINUTES=60
MAX_CONCURRENT_ANALYSES=5
ANALYSIS_MEMORY_LIMIT=4GB
ANALYSIS_CPU_LIMIT=2

# Data Retention
DATA_RETENTION_DAYS=365
ARTIFACT_RETENTION_DAYS=90
LOG_RETENTION_DAYS=30
BACKUP_RETENTION_DAYS=30

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true
FROM_EMAIL=noreply@chainguard.ai
FROM_NAME=ChainGuard AI

# Slack Integration
SLACK_WEBHOOK_URL=your-slack-webhook-url
SLACK_CHANNEL=#security-alerts
SLACK_ENABLED=false

# GitHub Integration
GITHUB_APP_ID=your-github-app-id
GITHUB_PRIVATE_KEY=your-github-private-key
GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# GitLab Integration
GITLAB_ACCESS_TOKEN=your-gitlab-access-token
GITLAB_WEBHOOK_SECRET=your-gitlab-webhook-secret

# Docker Configuration
DOCKER_REGISTRY=your-registry.com
DOCKER_USERNAME=your-username
DOCKER_PASSWORD=your-password
DOCKER_IMAGE_PREFIX=chainguard

# Container Security
CONTAINER_SECURITY_ENABLED=true
CONTAINER_NETWORK_ISOLATION=true
CONTAINER_RESOURCE_LIMITS=true
CONTAINER_READONLY_ROOTFS=true

# Feature Flags
FEATURE_AI_EXPLANATIONS=true
FEATURE_AUTO_PATCHING=false
FEATURE_REAL_TIME_UPDATES=true
FEATURE_ADVANCED_SEARCH=true
FEATURE_REPORT_GENERATION=true
FEATURE_WEBHOOKS=true

# API Configuration
API_KEY=your-api-key-for-external-access
API_RATE_LIMIT=1000
API_RATE_LIMIT_WINDOW=3600

# Frontend Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=ChainGuard AI

# Development Settings
DEVELOPMENT_MODE=true
AUTO_RELOAD=true
HOT_RELOAD=true
DEBUG_TOOLBAR=true

# Testing Configuration
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/chainguard_test
TEST_REDIS_URL=redis://localhost:6379/15
TEST_MODE=false

# Performance Tuning
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE=100M

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_ENABLED=true

# Session Configuration
SESSION_SECRET=your-session-secret
SESSION_TIMEOUT=3600
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_COUNT=7
BACKUP_COMPRESSION=true

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# Production Overrides (uncomment for production)
# =============================================================================

# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
# RELOAD=false
# WORKERS=8
# SESSION_COOKIE_SECURE=true
# HSTS_MAX_AGE=31536000
# CSP_ENABLED=true
# CONTAINER_SECURITY_ENABLED=true
# FEATURE_AUTO_PATCHING=false
